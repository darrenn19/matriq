.night-scene {
  width: 100%;
  height: 100vh;
  position: relative;
  overflow: hidden;
  background: linear-gradient(to bottom, #0a1a2e 0%, #16213e 30%, #1e3a5f 60%, #2d5a87 100%);
}

.sky {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 70%;
  background: linear-gradient(to bottom, #0f1419 0%, #1a2332 40%, #2d4a6b 100%);
}

.stars {
  position: absolute;
  width: 100%;
  height: 100%;
}

.star {
  position: absolute;
  background: #fff;
  border-radius: 50%;
  animation: twinkle 3s infinite alternate;
  box-shadow: 0 0 1px #fff;
}

.star-1 { width: 2px; height: 2px; top: 15%; left: 20%; animation-delay: 0s; }
.star-2 { width: 1px; height: 1px; top: 25%; left: 80%; animation-delay: 0.5s; }
.star-3 { width: 2px; height: 2px; top: 10%; left: 60%; animation-delay: 1s; }
.star-4 { width: 1px; height: 1px; top: 30%; left: 40%; animation-delay: 1.5s; }
.star-5 { width: 2px; height: 2px; top: 20%; left: 90%; animation-delay: 2s; }
.star-6 { width: 1px; height: 1px; top: 35%; left: 15%; animation-delay: 2.5s; }
.star-7 { width: 2px; height: 2px; top: 12%; left: 35%; animation-delay: 0.3s; }
.star-8 { width: 1px; height: 1px; top: 28%; left: 70%; animation-delay: 0.8s; }
.star-9 { width: 2px; height: 2px; top: 18%; left: 50%; animation-delay: 1.3s; }
.star-10 { width: 1px; height: 1px; top: 32%; left: 25%; animation-delay: 1.8s; }

@keyframes twinkle {
  0% { opacity: 0.3; }
  100% { opacity: 1; }
}

.moon {
  position: absolute;
  width: 80px;
  height: 80px;
  background: radial-gradient(circle at 30% 30%, #fff 0%, #f0f0f0 100%);
  border-radius: 50%;
  top: 15%;
  right: 20%;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.3), 0 0 40px rgba(255, 255, 255, 0.2);
  animation: moonGlow 4s ease-in-out infinite alternate;
  overflow: visible;
  --eye-x: 0px;
  --eye-y: 0px;
  will-change: box-shadow;
}

@keyframes moonGlow {
  from { box-shadow: 0 0 20px rgba(255, 255, 255, 0.3), 0 0 40px rgba(255, 255, 255, 0.2); }
  to { box-shadow: 0 0 30px rgba(255, 255, 255, 0.4), 0 0 50px rgba(255, 255, 255, 0.3); }
}

.moon-eye {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scaleY(0);
  width: 36px;
  height: 20px;
  opacity: 0;
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.6s ease;
  will-change: transform, opacity;
}

.moon.eye-open .moon-eye {
  transform: translate(-50%, -50%) scaleY(1);
  opacity: 1;
}

.eye-white {
  width: 100%;
  height: 100%;
  background: radial-gradient(ellipse at center, #f5f5f5 0%, #e8e8e8 100%);
  border-radius: 50%;
  position: relative;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.4s ease;
  transform: translateX(var(--eye-offset-x, 0));
}
.moon.eye-open .eye-white {
  --eye-offset-x: -6px; /* move left slightly toward the password field */
}

.iris {
  width: 12px;
  height: 12px;
  background: radial-gradient(circle at 35% 35%, #5a5a5a 0%, #1a1a1a 60%, #000 100%);
  border-radius: 50%;
  position: relative;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.6), inset 0 1px 1px rgba(255, 255, 255, 0.15);
  will-change: transform;
}

.iris::before {
  content: '';
  position: absolute;
  top: 25%;
  left: 30%;
  width: 3px;
  height: 3px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 50%;
}



.pupil {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 6px;
  height: 6px;
  background: #000;
  border-radius: 50%;
  box-shadow: inset 0 1px 1px rgba(255, 255, 255, 0.1);
}

.mountains {
  position: absolute;
  bottom: 30%;
  left: 0;
  width: 100%;
  height: 40%;
}

.mountain {
  position: absolute;
  bottom: 0;
  will-change: auto;
}

.mountain-1 {
  width: 0;
  height: 0;
  border-left: 200px solid transparent;
  border-right: 200px solid transparent;
  border-bottom: 300px solid #1a2332;
  left: -100px;
  filter: blur(2px);
}

.mountain-2 {
  width: 0;
  height: 0;
  border-left: 250px solid transparent;
  border-right: 250px solid transparent;
  border-bottom: 250px solid #0f1419;
  left: 200px;
  filter: blur(1px);
}

.mountain-3 {
  width: 0;
  height: 0;
  border-left: 300px solid transparent;
  border-right: 300px solid transparent;
  border-bottom: 200px solid #2d4a6b;
  right: -200px;
  filter: blur(3px);
}

.forest {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 55%;
}

.tree-layer {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 100%;
  will-change: auto;
}

.layer-1 { z-index: 3; }
.layer-2 { z-index: 2; filter: blur(1px); opacity: 0.8; }
.layer-3 { z-index: 1; filter: blur(2px); opacity: 0.6; }

.tree {
  position: absolute;
  bottom: 0;
}

.tree::before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 8px;
  height: 50px;
  background: #0a0a0a;
}

.tree::after {
  content: '';
  position: absolute;
  bottom: 50px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 25px solid transparent;
  border-right: 25px solid transparent;
  border-bottom: 120px solid #033003;
}

.tree-1 { left: 5%; height: 150px; }
.tree-2 { left: 15%; height: 170px; }
.tree-2::after { border-bottom: 140px solid #052c05; border-left: 30px solid transparent; border-right: 30px solid transparent; }
.tree-3 { left: 25%; height: 160px; }
.tree-4 { left: 35%; height: 180px; }
.tree-4::after { border-bottom: 150px solid #223422; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.tree-5 { left: 45%; height: 160px; }
.tree-6 { left: 55%; height: 180px; }
.tree-6::after { border-bottom: 150px solid #032103; border-left: 32px solid transparent; border-right: 32px solid transparent; }
.tree-7 { left: 65%; height: 170px; }
.tree-7::after { border-bottom: 140px solid #053605; }
.tree-8 { left: 75%; height: 190px; }
.tree-8::after { border-bottom: 170px solid #092409; border-left: 35px solid transparent; border-right: 35px solid transparent; }
.tree-9 { left: 85%; height: 150px; }
.tree-9::after { border-bottom: 120px solid #073107; }
.tree-10 { left: 10%; height: 130px; }
.tree-10::after { border-bottom: 100px solid #004d00; border-left: 20px solid transparent; border-right: 20px solid transparent; }
.tree-11 { left: 30%; height: 120px; }
.tree-11::after { border-bottom: 90px solid #004d00; border-left: 18px solid transparent; border-right: 18px solid transparent; }
.tree-12 { left: 70%; height: 125px; }
.tree-12::after { border-bottom: 95px solid #004d00; border-left: 22px solid transparent; border-right: 22px solid transparent; }

.ground {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 15%;
  background: linear-gradient(to bottom, rgba(10, 10, 10, 0.8) 0%, #0a0a0a 100%);
}

.auth-box {
  position: absolute;
  top: 50%;
  left: 45%;
  transform: translate(-50%, -50%);
  width: 340px;
  padding: 1.75rem;
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 20px;
  backdrop-filter: blur(16px);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.05) inset;
  color: #e6e9ef;
  text-align: center;
  z-index: 10;
  will-change: auto;
}

.auth-box h2 {
  margin: 0 0 1.25rem 0;
  font-weight: 600;
  font-size: 1.35rem;
  letter-spacing: 0.3px;
  color: #f5f7fa;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.auth-tabs {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
  background: rgba(255, 255, 255, 0.04);
  border-radius: 12px;
  padding: 0.35rem;
  border: 1px solid rgba(255, 255, 255, 0.06);
}

.auth-tabs .tab {
  flex: 1;
  background: transparent;
  border: none;
  color: #aab8d0;
  padding: 0.65rem 0;
  border-radius: 10px;
  font-weight: 600;
  font-size: 0.9rem;
  letter-spacing: 0.3px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

.auth-tabs .tab:hover:not(.active) {
  color: #d0d8e8;
}

.auth-tabs .tab.active {
  background: rgba(255, 255, 255, 0.12);
  color: #fff;
  box-shadow: 0 4px 12px rgba(135, 206, 250, 0.15);
}

.auth-content {
  position: relative;
  width: 100%;
  min-height: 280px;
}

.auth-form {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.auth-form.active {
  opacity: 1;
  transform: translateY(0);
  pointer-events: all;
  z-index: 2;
}

.input-group {
  position: relative;
  width: 100%;
}

.password-group {
  position: relative;
}

.auth-input {
  width: 100%;
  background: rgba(255, 255, 255, 0.08);
  border: 1.5px solid rgba(255, 255, 255, 0.15);
  padding: 0.7rem 1rem;
  border-radius: 10px;
  color: #fff;
  font-size: 0.9rem;
  outline: none;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  will-change: border-color, background;
}

.auth-input::placeholder {
  color: rgba(255, 255, 255, 0.4);
  font-weight: 400;
}

.auth-input:hover {
  border-color: rgba(135, 206, 250, 0.3);
  background: rgba(255, 255, 255, 0.1);
}

.auth-input:focus {
  border-color: rgba(135, 206, 250, 0.6);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 0 3px rgba(135, 206, 250, 0.1), 0 4px 12px rgba(0, 0, 0, 0.15);
}

.password-group .auth-input {
  padding-right: 2.75rem;
}

.password-toggle {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: rgba(255, 255, 255, 0.5);
  cursor: pointer;
  padding: 0.4rem;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  transition: all 0.2s ease;
  will-change: color;
}

.password-toggle:hover {
  color: rgba(135, 206, 250, 0.9);
  background: rgba(255, 255, 255, 0.08);
}

.password-toggle:active {
  transform: translateY(-50%) scale(0.95);
}

.auth-btn {
  width: 100%;
  background: linear-gradient(135deg, #1a75ff 0%, #00bfff 100%);
  border: none;
  padding: 0.85rem;
  border-radius: 10px;
  color: #fff;
  font-weight: 600;
  font-size: 0.95rem;
  letter-spacing: 0.4px;
  cursor: pointer;
  margin-top: 0.25rem;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 12px rgba(26, 117, 255, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1) inset;
  position: relative;
  overflow: hidden;
  will-change: transform, box-shadow;
}

.auth-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(26, 117, 255, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.15) inset;
}

.auth-btn:active {
  transform: translateY(0);
  box-shadow: 0 2px 8px rgba(26, 117, 255, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1) inset;
}



@media (max-width: 768px) {
  .moon {
    width: 60px;
    height: 60px;
    top: 10%;
    right: 15%;
  }

  .moon-eye {
    width: 28px;
    height: 16px;
  }

  .iris {
    width: 10px;
    height: 10px;
  }

  .pupil {
    width: 5px;
    height: 5px;
  }

  .forest {
    height: 50%;
  }

  .mountain-1 { border-bottom: 200px solid #1a2332; }
  .mountain-2 { border-bottom: 180px solid #0f1419; }
  .mountain-3 { border-bottom: 150px solid #2d4a6b; }

  .auth-box {
    width: 85%;
    max-width: 320px;
    padding: 1.5rem;
  }

  .auth-input {
    padding: 0.6rem 0.9rem;
    font-size: 0.85rem;
  }

  .auth-btn {
    padding: 0.75rem;
    font-size: 0.9rem;
  }
}

/* === POPUP STYLES === */
.popup-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.55);
  display: flex;
  justify-content: center;
  align-items: center;
  animation: fadeIn 0.3s ease forwards;
  z-index: 1000;
}

.popup-box {
  background: #121212;
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 12px;
  padding: 25px 35px;
  text-align: center;
  color: white;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
  animation: popIn 0.3s ease forwards;
}

.popup-box button {
  margin-top: 15px;
  padding: 8px 18px;
  background: #5c5cff;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.2s;
}

.popup-box button:hover {
  background: #7676ff;
}

.popup-overlay.success .popup-box {
  border-color: #00ffae;
  box-shadow: 0 0 25px rgba(0, 255, 174, 0.4);
}

.popup-overlay.error .popup-box {
  border-color: #ff4b4b;
  box-shadow: 0 0 25px rgba(255, 75, 75, 0.4);
}

@keyframes popIn {
  from {
    transform: scale(0.8);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* === MOON BEAM EFFECT === */
.moon-beam {
  position: absolute;
  left: 50%;
  top: 40%;
  transform: translateX(-50%) scaleY(1);
  transform-origin: top center;
  width: 350px; /* base width of the cone */
  height: 1250px; /* how far it reaches */
  background: radial-gradient(
    ellipse at center,
    rgba(200, 220, 255, 0.35) 0%,
    rgba(180, 210, 255, 0.2) 30%,
    rgba(150, 180, 255, 0.05) 70%,
    transparent 100%
  );
  clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
  opacity: 0;
  filter: blur(4px);
  pointer-events: none;
  transition:
    transform 0.6s ease,  /* same speed both ways */
    opacity 0.4s ease-in-out;    /* optional: match opacity speed */
  z-index: 10000;
}

.moon-beam.active {
  z-index: 11000;
  transform: translateX(-50%) scaleY(1);
  opacity: 1;
  /* same transition as default state */
  transition:
    transform 0.4s ease-in-out,
    opacity 0.4s ease-in-out;
}

.beam-marker {
  position: absolute;
  right: 38px; /* near the eye icon */
  top: 50%;
  width: 6px;
  height: 6px;
  background: transparent; /* Make visible (red) for debugging */
  border-radius: 50%;
  transform: translateY(-50%);
  pointer-events: none;
  z-index: 9999;
}
